{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/beisen/Desktop/test/react-todolist2/src/App.jsx\";\nimport React, { Component } from \"react\";\nimport Header from \"./components/Header\";\nimport List from \"./components/List\";\nimport Footer from \"./components/Footer\";\nimport \"./App.css\";\nexport default class App extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      todos: [{\n        id: \"001\",\n        name: \"a\",\n        done: true,\n        sign: \"3\"\n      }, {\n        id: \"002\",\n        name: \"b\",\n        done: true,\n        sign: \"2\"\n      }, {\n        id: \"003\",\n        name: \"c\",\n        done: false,\n        sign: \"3\"\n      }, {\n        id: \"004\",\n        name: \"d\",\n        done: false,\n        sign: \"1\"\n      }],\n      filter: \"all\",\n      pastodos: [],\n      featuretodos: []\n    };\n\n    this.add = todoObj => {\n      const {\n        todos\n      } = this.state;\n      const newTodos = [todoObj, ...todos];\n      this.setState({\n        todos: todoObj\n      });\n      this.setState({\n        todos: newTodos\n      });\n    };\n\n    this.updateTodo = (id, done) => {\n      //获取状态中的todos\n      const {\n        todos\n      } = this.state; //匹配处理数据\n\n      const newTodos = todos.map(todoObj => {\n        if (todoObj.id === id) return { ...todoObj,\n          done\n        };else return todoObj;\n      });\n      this.setState({\n        todos: newTodos\n      });\n    };\n\n    this.deleteTodo = id => {\n      const {\n        todos\n      } = this.state;\n      const newTodos = todos.filter(todoObj => {\n        return todoObj.id !== id;\n      });\n      this.setState({\n        todos: newTodos\n      });\n    };\n\n    this.clearAllDone = () => {\n      this.setPast();\n      const {\n        todos\n      } = this.state;\n      const newTodos = todos.filter(todoObj => {\n        return !todoObj.done;\n      });\n      this.setState({\n        todos: newTodos\n      });\n    };\n\n    this.allDone = () => {\n      this.setState({\n        filter: \"complete\"\n      });\n    };\n\n    this.allTodos = () => {\n      this.setState({\n        filter: \"all\"\n      });\n    };\n\n    this.allNoDone = () => {\n      this.setState({\n        filter: \"undone\"\n      });\n    };\n\n    this.editTodos = (id, name) => {\n      const {\n        todos\n      } = this.state;\n      const newTodos = todos.map(todoObj => {\n        if (todoObj.id === id) return { ...todoObj,\n          name\n        };else return todoObj;\n      });\n      this.setState({\n        todos: newTodos\n      });\n    };\n\n    this.changeSign = (id, sign) => {\n      const {\n        todos\n      } = this.state; //匹配处理数据\n\n      const newTodos = todos.map(todoObj => {\n        if (todoObj.id === id) return { ...todoObj,\n          sign\n        };else return todoObj;\n      });\n      this.setState({\n        todos: newTodos\n      });\n    };\n\n    this.sortBySign = () => {\n      const {\n        todos\n      } = this.state;\n      const newTodos = todos.sort((a, b) => {\n        return b.sign - a.sign;\n      });\n      this.setState({\n        todos: newTodos\n      });\n    };\n\n    this.beforEdit = () => {// const { pastodos, todos,featuretodos } = this.state;\n      // const newTodo = pastodos.pop()\n      // featuretodos.push(newTodo)\n      // if (newTodo == null) {\n      //   return \n      // } else {\n      //   const id = newTodo.id;\n      //   const newTodos = todos.map((todoObj) => {\n      //     if (todoObj.id === id) return { ...todoObj, ...newTodo };\n      //     else return todoObj;\n      //   });\n      //   this.setState({ todos: pastodos });\n      // }\n    };\n\n    this.feature = () => {\n      const {\n        pastodos,\n        todos,\n        featuretodos\n      } = this.state;\n      const newTodo = featuretodos.pop();\n      pastodos.push(newTodo);\n\n      if (newTodo == null) {\n        return;\n      } else {\n        const id = newTodo.id;\n        const newTodos = todos.map(todoObj => {\n          if (todoObj.id === id) return { ...todoObj,\n            ...newTodo\n          };else return todoObj;\n        });\n        this.setState({\n          todos: newTodos\n        });\n      }\n    };\n\n    this.setPast = () => {\n      this.setState({\n        pastodos: [...this.state.pastodos, this.state.todos.concat()]\n      });\n      console.log(this.state.pastodos);\n    };\n  }\n\n  render() {\n    const {\n      todos,\n      showTodos,\n      pastodos\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"todo-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"todo-wrap\",\n        children: [/*#__PURE__*/_jsxDEV(Header, {\n          add: this.add,\n          sortBySign: this.sortBySign\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(List, {\n          todos: todos,\n          showTodos: showTodos,\n          editTodos: this.editTodos,\n          updateTodo: this.updateTodo,\n          deleteTodo: this.deleteTodo,\n          filter: this.state.filter,\n          changeSign: this.changeSign\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Footer, {\n          todos: todos,\n          pastodos: pastodos,\n          beforEdit: this.beforEdit,\n          feature: this.feature,\n          clearAllDone: this.clearAllDone,\n          allDone: this.allDone,\n          allTodos: this.allTodos,\n          allNoDone: this.allNoDone\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 7\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["/Users/beisen/Desktop/test/react-todolist2/src/App.jsx"],"names":["React","Component","Header","List","Footer","App","state","todos","id","name","done","sign","filter","pastodos","featuretodos","add","todoObj","newTodos","setState","updateTodo","map","deleteTodo","clearAllDone","setPast","allDone","allTodos","allNoDone","editTodos","changeSign","sortBySign","sort","a","b","beforEdit","feature","newTodo","pop","push","concat","console","log","render","showTodos"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Header from \"./components/Header\";\nimport List from \"./components/List\";\nimport Footer from \"./components/Footer\";\nimport \"./App.css\";\nexport default class App extends Component {\n  //初始化状态\n  state = {\n    todos: [\n      { id: \"001\", name: \"a\", done: true, sign: \"3\" },\n      { id: \"002\", name: \"b\", done: true, sign: \"2\" },\n      { id: \"003\", name: \"c\", done: false, sign: \"3\" },\n      { id: \"004\", name: \"d\", done: false, sign: \"1\" },\n    ],\n    filter: \"all\",\n    pastodos: [],\n    featuretodos: [],\n  };\n  //添加\n  add = (todoObj) => {\n    const { todos } = this.state;\n    const newTodos = [todoObj, ...todos];\n    this.setState({ todos: todoObj });\n    this.setState({ todos: newTodos });\n  };\n  //更新\n  updateTodo = (id, done) => {\n    //获取状态中的todos\n    const { todos } = this.state;\n    //匹配处理数据\n    const newTodos = todos.map((todoObj) => {\n      if (todoObj.id === id) return { ...todoObj, done };\n      else return todoObj;\n    });\n\n    this.setState({ todos: newTodos });\n  };\n  //删除\n  deleteTodo = (id) => {\n    const { todos } = this.state;\n    const newTodos = todos.filter((todoObj) => {\n      return todoObj.id !== id;\n    });\n    this.setState({ todos: newTodos });\n  };\n\n  //删除已完成\n  clearAllDone = () => {\n    this.setPast()\n    const { todos } = this.state;\n    const newTodos = todos.filter((todoObj) => {\n      return !todoObj.done;\n    });\n    this.setState({ todos: newTodos });\n  };\n  //显示已完成\n  allDone = () => {\n    this.setState({ filter: \"complete\" });\n  };\n  //全部\n  allTodos = () => {\n    this.setState({ filter: \"all\" });\n  };\n  //未完成\n  allNoDone = () => {\n    this.setState({ filter: \"undone\" });\n  };\n  //编辑\n  editTodos = (id, name) => {\n    const { todos } = this.state;\n    const newTodos = todos.map((todoObj) => {\n      if (todoObj.id === id) return { ...todoObj, name };\n      else return todoObj;\n    });\n    this.setState({ todos: newTodos });\n  };\n  //优先级修改\n  changeSign = (id, sign) => {\n    const { todos } = this.state;\n    //匹配处理数据\n    const newTodos = todos.map((todoObj) => {\n      if (todoObj.id === id) return { ...todoObj, sign };\n      else return todoObj;\n    });\n    this.setState({ todos: newTodos });\n  };\n  //排序\n  sortBySign = () => {\n    const { todos } = this.state;\n    const newTodos = todos.sort((a, b) => {\n      return b.sign - a.sign;\n    });\n    this.setState({ todos: newTodos });\n  };\n  //撤销\n  beforEdit = () => {\n    // const { pastodos, todos,featuretodos } = this.state;\n    // const newTodo = pastodos.pop()\n    // featuretodos.push(newTodo)\n    // if (newTodo == null) {\n    //   return \n    // } else {\n    //   const id = newTodo.id;\n    //   const newTodos = todos.map((todoObj) => {\n    //     if (todoObj.id === id) return { ...todoObj, ...newTodo };\n    //     else return todoObj;\n    //   });\n    //   this.setState({ todos: pastodos });\n    // }\n  };\n  //前进\n  feature =()=>{\n    const { pastodos, todos,featuretodos } = this.state;\n    const newTodo = featuretodos.pop()\n    pastodos.push(newTodo)\n    if (newTodo == null) {\n      return \n    } else {\n      const id = newTodo.id;\n      const newTodos = todos.map((todoObj) => {\n        if (todoObj.id === id) return { ...todoObj, ...newTodo };\n        else return todoObj;\n      });\n      this.setState({ todos: newTodos });\n    }\n  }\n  setPast = ()=>{\n    this.setState({\n      pastodos:[...this.state.pastodos,this.state.todos.concat()]\n    })\n    console.log(this.state.pastodos);\n  }\n  render() {\n    const { todos, showTodos, pastodos } = this.state;\n    return (\n      <div className=\"todo-container\">\n        <div className=\"todo-wrap\">\n          <Header add={this.add} sortBySign={this.sortBySign} />\n          <List\n            todos={todos}\n            showTodos={showTodos}\n            editTodos={this.editTodos}\n            updateTodo={this.updateTodo}\n            deleteTodo={this.deleteTodo}\n            filter={this.state.filter}\n            changeSign={this.changeSign}\n          />\n          <Footer\n            todos={todos}\n            pastodos={pastodos}\n            beforEdit={this.beforEdit}\n            feature={this.feature}\n            clearAllDone={this.clearAllDone}\n            allDone={this.allDone}\n            allTodos={this.allTodos}\n            allNoDone={this.allNoDone}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}