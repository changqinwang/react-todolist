{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/beisen/Desktop/test/react-todolist2/src/App.jsx\";\nimport React, { Component } from \"react\";\nimport Header from \"./components/Header\";\nimport List from \"./components/List\";\nimport Footer from \"./components/Footer\";\nimport \"./App.css\";\nexport default class App extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      todos: [{\n        id: \"001\",\n        name: \"a\",\n        done: true\n      }, {\n        id: \"002\",\n        name: \"c\",\n        done: true\n      }, {\n        id: \"003\",\n        name: \"b\",\n        done: false\n      }, {\n        id: \"004\",\n        name: \"d\",\n        done: false\n      }],\n      filter: \"all\"\n    };\n\n    this.add = todoObj => {\n      const {\n        todos,\n        showTodos\n      } = this.state;\n      const newTodos = [todoObj, ...todos];\n      const newshowTodos = [todoObj, ...showTodos];\n      this.setState({\n        todos: newTodos\n      });\n      this.setState({\n        showTodos: newshowTodos\n      });\n    };\n\n    this.updateTodo = (id, done) => {\n      //获取状态中的todos\n      const {\n        todos,\n        showTodos\n      } = this.state; //匹配处理数据\n\n      const newTodos = todos.map(todoObj => {\n        if (todoObj.id === id) return { ...todoObj,\n          done\n        };else return todoObj;\n      });\n      this.setState({\n        todos: newTodos\n      });\n    };\n\n    this.deleteTodo = id => {\n      const {\n        todos,\n        showTodos\n      } = this.state;\n      const newTodos = todos.filter(todoObj => {\n        return todoObj.id !== id;\n      });\n      this.setState({\n        todos: newTodos\n      });\n    };\n\n    this.clearAllDone = () => {\n      const {\n        todos\n      } = this.state;\n      const newTodos = todos.filter(todoObj => {\n        return !todoObj.done;\n      });\n      this.setState({\n        todos: newTodos\n      });\n    };\n\n    this.allDone = () => {\n      this.setState({\n        filter: 'complete'\n      });\n    };\n\n    this.allTodos = () => {\n      //console.log('---',this.state.showTodos);\n      this.setState({\n        filter: 'all'\n      });\n    };\n\n    this.allNoDone = () => {\n      this.setState({\n        filter: 'all'\n      });\n    };\n\n    this.editTodos = (id, name) => {\n      const {\n        todos,\n        showTodos\n      } = this.state;\n      const newTodos = todos.map(todoObj => {\n        if (todoObj.id === id) return { ...todoObj,\n          name\n        };else return todoObj;\n      });\n      this.setState({\n        todos: newTodos\n      });\n      this.setState({\n        showTodos: newTodos\n      });\n    };\n  }\n\n  componentDidMount() {\n    const {\n      todos\n    } = this.state;\n    const newTodos = [...todos];\n    this.setState({\n      showTodos: newTodos\n    });\n    console.log(this.state.showTodos);\n  }\n\n  render() {\n    const {\n      todos,\n      showTodos\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"todo-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"todo-wrap\",\n        children: [/*#__PURE__*/_jsxDEV(Header, {\n          add: this.add\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(List, {\n          todos: todos,\n          showTodos: showTodos,\n          editTodos: this.editTodos,\n          updateTodo: this.updateTodo,\n          deleteTodo: this.deleteTodo,\n          filter: this.state.filter\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Footer, {\n          todos: todos,\n          clearAllDone: this.clearAllDone,\n          allDone: this.allDone,\n          allTodos: this.allTodos,\n          allNoDone: this.allNoDone\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["/Users/beisen/Desktop/test/react-todolist2/src/App.jsx"],"names":["React","Component","Header","List","Footer","App","state","todos","id","name","done","filter","add","todoObj","showTodos","newTodos","newshowTodos","setState","updateTodo","map","deleteTodo","clearAllDone","allDone","allTodos","allNoDone","editTodos","componentDidMount","console","log","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Header from \"./components/Header\";\nimport List from \"./components/List\";\nimport Footer from \"./components/Footer\";\nimport \"./App.css\";\nexport default class App extends Component {\n  //初始化状态\n  state = {\n    todos: [\n      { id: \"001\", name: \"a\", done: true },\n      { id: \"002\", name: \"c\", done: true },\n      { id: \"003\", name: \"b\", done: false },\n      { id: \"004\", name: \"d\", done: false },\n    ],\n    filter: \"all\",\n  };\n  //添加\n  add = (todoObj) => {\n    const { todos, showTodos } = this.state;\n    const newTodos = [todoObj, ...todos];\n    const newshowTodos = [todoObj, ...showTodos];\n    this.setState({ todos: newTodos });\n    this.setState({ showTodos: newshowTodos });\n  };\n  //更新\n  updateTodo = (id, done) => {\n    //获取状态中的todos\n    const { todos, showTodos } = this.state;\n    //匹配处理数据\n    const newTodos = todos.map((todoObj) => {\n      if (todoObj.id === id) return { ...todoObj, done };\n      else return todoObj;\n    });\n\n    this.setState({ todos: newTodos });\n    \n  };\n  //删除\n  deleteTodo = (id) => {\n    const { todos, showTodos } = this.state;\n    const newTodos = todos.filter((todoObj) => {\n      return todoObj.id !== id;\n    });\n\n    this.setState({ todos: newTodos });\n   \n  };\n\n  //删除已完成\n  clearAllDone = () => {\n    const { todos } = this.state;\n    const newTodos = todos.filter((todoObj) => {\n      return !todoObj.done;\n    });\n    this.setState({ todos: newTodos });\n  };\n  //显示已完成\n  allDone = () => {\n    this.setState({ filter: 'complete' });\n  };\n  //全部\n  allTodos = () => {\n    //console.log('---',this.state.showTodos);\n\tthis.setState({ filter: 'all' });\n  };\n  //未完成\n  allNoDone = () => {\n    this.setState({ filter: 'all' });\n  };\n  //编辑\n  editTodos = (id, name) => {\n    const { todos, showTodos } = this.state;\n    const newTodos = todos.map((todoObj) => {\n      if (todoObj.id === id) return { ...todoObj, name };\n      else return todoObj;\n    });\n    this.setState({ todos: newTodos });\n    this.setState({ showTodos: newTodos });\n  };\n  componentDidMount() {\n    const { todos } = this.state;\n    const newTodos = [...todos];\n    this.setState({ showTodos: newTodos });\n    console.log(this.state.showTodos);\n  }\n\n  render() {\n    const { todos, showTodos } = this.state;\n    return (\n      <div className=\"todo-container\">\n        <div className=\"todo-wrap\">\n          <Header add={this.add} />\n          <List\n            todos={todos}\n            showTodos={showTodos}\n            editTodos={this.editTodos}\n            updateTodo={this.updateTodo}\n\t\t\tdeleteTodo={this.deleteTodo}\n\t\t\tfilter={this.state.filter}\n          />\n          <Footer\n            todos={todos}\n            clearAllDone={this.clearAllDone}\n            allDone={this.allDone}\n            allTodos={this.allTodos}\n            allNoDone={this.allNoDone}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}